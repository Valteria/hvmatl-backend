{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hieu Dinh\\\\Documents\\\\hvmatl-backend\\\\src\\\\Hvmatl.Web\\\\WebApp\\\\src\\\\pages\\\\WeeklyNews.jsx\";\nimport React, { useEffect } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Preloader from '../components/Preloader';\nimport { connect } from 'react-redux';\nimport * as actionType from '../store/actionType';\nimport { getWeeklyNews } from '../store/dispatch/dispatch';\nimport PopupModal from \"../components/PopupModal\";\n\nconst WeeklyNews = props => {\n  const toggleModal = (e, title, content) => {\n    e.preventDefault();\n    props.toggleModal({\n      title: title,\n      url: content\n    });\n  };\n\n  useEffect(() => {\n    if (sessionStorage.getItem('token') && !props.data.length) {\n      let mtplr;\n      const from = new Date(new Date().setUTCHours(0, 0, 0, 0));\n      from.setMonth(from.getUTCMonth() - 1, 0);\n\n      if ([2, 3].includes(new Date().getUTCMonth() + 1)) {\n        mtplr = from.getUTCFullYear() % 4 === 0 ? 31 + 29 : 31 + 28;\n      } else {\n        mtplr = from.getUTCMonth() + 1 === 8 ? 62 : 61;\n      }\n\n      const to = new Date(from.getTime() + mtplr * 86400000);\n\n      (async () => await props.getWeeklyNews(from, to, sessionStorage.getItem('token')))();\n    }\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Preloader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"about-area section-padding-100-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, [new Date().getMonth() + 1, new Date().getMonth()].map(month => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      key: month,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 45\n      }\n    }, \"Th\\xF4ng tin m\\u1EE5c v\\u1EE5 th\\xE1ng \", month))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row about-content justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    }, props.data.map((weeklyNews, idx) => new Date(weeklyNews.date).getMonth() + 1 === month ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-md-4 col-lg-3\",\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"about-us-content mb-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      onClick: e => toggleModal(e, weeklyNews.title, weeklyNews.src),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: weeklyNews.image,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 127\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"about-text text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      onClick: e => toggleModal(e, weeklyNews.title, weeklyNews.src),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 131\n      }\n    }, weeklyNews.title))))) : null)));\n  }), props.showPopup.show ? /*#__PURE__*/React.createElement(PopupModal, {\n    show: props.showPopup.show,\n    content: props.showPopup.content,\n    onHide: () => props.toggleModal({}),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 41\n    }\n  }) : null), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }));\n};\n\nconst mapStateToProps = state => ({\n  data: state.weeklyNews.data,\n  showPopup: state.weeklyNews.showPopup\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getWeeklyNews: (fromDate, toDate, token = null) => getWeeklyNews(dispatch, fromDate, toDate, token),\n  toggleModal: content => dispatch({\n    type: actionType.TOGGLE_WEEKLY_NEWS_POPUP,\n    content: content\n  })\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeeklyNews);","map":{"version":3,"sources":["C:/Users/Hieu Dinh/Documents/hvmatl-backend/src/Hvmatl.Web/WebApp/src/pages/WeeklyNews.jsx"],"names":["React","useEffect","Header","Footer","Preloader","connect","actionType","getWeeklyNews","PopupModal","WeeklyNews","props","toggleModal","e","title","content","preventDefault","url","sessionStorage","getItem","data","length","mtplr","from","Date","setUTCHours","setMonth","getUTCMonth","includes","getUTCFullYear","to","getTime","getMonth","map","month","weeklyNews","idx","date","src","image","showPopup","show","mapStateToProps","state","mapDispatchToProps","dispatch","fromDate","toDate","token","type","TOGGLE_WEEKLY_NEWS_POPUP"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport Preloader from '../components/Preloader';\r\nimport {connect} from 'react-redux';\r\nimport * as actionType from '../store/actionType';\r\nimport {getWeeklyNews} from '../store/dispatch/dispatch';\r\nimport PopupModal from \"../components/PopupModal\";\r\nconst WeeklyNews = (props) => {\r\n    const toggleModal = (e, title, content) => {\r\n        e.preventDefault();\r\n        props.toggleModal({\r\n            title: title,\r\n            url: content\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(sessionStorage.getItem('token') && !props.data.length) {\r\n            let mtplr;\r\n            const from =  new Date(new Date().setUTCHours(0,0,0,0));\r\n            from.setMonth(from.getUTCMonth()-1, 0);\r\n            if([2, 3].includes(new Date().getUTCMonth() + 1)) {\r\n                mtplr = from.getUTCFullYear() % 4 === 0 ? 31+29 : 31+28;\r\n            } else {\r\n                mtplr = from.getUTCMonth() + 1 === 8 ? 62 : 61;\r\n            }\r\n            const to = new Date(from.getTime() + mtplr * 86400000);\r\n            (async () => (await props.getWeeklyNews(from, to, sessionStorage.getItem('token'))))();\r\n        }\r\n    }, [props]);\r\n\r\n    return (\r\n        <div>\r\n            <Preloader/>\r\n            <Header/>\r\n            <section className=\"about-area section-padding-100-0\">\r\n                {[new Date().getMonth() + 1, new Date().getMonth()].map(month => {\r\n                    return (\r\n                        <div className=\"container\" key={month}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"section-heading\">\r\n                                        <h2><b>Thông tin mục vụ tháng {month}</b></h2>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row about-content justify-content-center\">\r\n                                {props.data.map(\r\n                                    (weeklyNews,idx) => new Date(weeklyNews.date).getMonth() + 1 === month ?\r\n                                        <div className=\"col-12 col-sm-6 col-md-4 col-lg-3\" key={idx}>\r\n                                            <div className=\"about-us-content mb-100\">\r\n                                                <a href=\"/\" onClick={(e) => toggleModal(e, weeklyNews.title, weeklyNews.src)}><img src={weeklyNews.image} alt=\"\"/></a>\r\n                                                <div className=\"about-text text-center\">\r\n                                                    <a href=\"/\" onClick={(e) => toggleModal(e, weeklyNews.title, weeklyNews.src)}><h4>{weeklyNews.title}</h4></a>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div> : null)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n                {props.showPopup.show ? <PopupModal show={props.showPopup.show} content={props.showPopup.content} onHide={() => props.toggleModal({})}/> : null}\r\n            </section>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    data: state.weeklyNews.data,\r\n    showPopup: state.weeklyNews.showPopup\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    getWeeklyNews: (fromDate, toDate, token = null) => getWeeklyNews(dispatch, fromDate, toDate, token),\r\n    toggleModal: (content) => dispatch({type: actionType.TOGGLE_WEEKLY_NEWS_POPUP, content:content})\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WeeklyNews);"]},"metadata":{},"sourceType":"module"}